(function(t){function e(e){for(var a,i,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)i=r[d],o[i]&&p.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={index:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="app://./";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("baf0")},"069e":function(t,e,n){},"07d3":function(t,e,n){},"14da":function(t,e,n){},"168a":function(t,e,n){"use strict";var a=n("4eb2"),o=n.n(a);o.a},"1b0c":function(t,e,n){},"1c92":function(t,e,n){"use strict";var a=n("35ec"),o=n.n(a);o.a},"27a9":function(t,e,n){"use strict";var a=n("afbd"),o=n.n(a);o.a},"2e30":function(t,e,n){"use strict";var a=n("318a"),o=n.n(a);o.a},"318a":function(t,e,n){},"33e1":function(t,e,n){},"34bb":function(t,e){t.exports=require("electron")},"35ec":function(t,e,n){},3683:function(t,e,n){"use strict";var a=n("672d"),o=n.n(a);o.a},3891:function(t,e,n){},"3bf7":function(t,e,n){},"3f36":function(t,e,n){},"3fd2":function(t,e,n){"use strict";var a=n("a597"),o=n.n(a);o.a},"4bf1":function(t,e,n){},"4eb2":function(t,e,n){},"54ae":function(t,e,n){"use strict";var a=n("3bf7"),o=n.n(a);o.a},"5a38":function(t,e,n){"use strict";var a=n("069e"),o=n.n(a);o.a},"5b71":function(t,e,n){"use strict";var a=n("af74"),o=n.n(a);o.a},"5d5a":function(t,e,n){"use strict";var a=n("dc61"),o=n.n(a);o.a},"672d":function(t,e,n){},"6b20":function(t,e,n){t.exports=n.p+"img/512x512.161dfe23.png"},"70f7":function(t,e,n){"use strict";var a=n("33e1"),o=n.n(a);o.a},7842:function(t,e,n){"use strict";var a=n("85a6"),o=n.n(a);o.a},"85a6":function(t,e,n){},9248:function(t,e,n){"use strict";var a=n("a8ac"),o=n.n(a);o.a},9490:function(t,e,n){"use strict";var a=n("1b0c"),o=n.n(a);o.a},"94ba":function(t,e,n){"use strict";var a=n("3891"),o=n.n(a);o.a},"97d1":function(t,e,n){},9944:function(t,e,n){function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){o(t,e,n[e])})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const s=n("be6f"),i=n("9b0f");function r(t,e,n,o,s={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]);for(const i of e)for(const e of n)i[t](e,o,a({capture:!1},s));return Array.prototype.slice.call(arguments,1)}t.exports.on=r.bind(null,"addEventListener"),t.exports.off=r.bind(null,"removeEventListener"),t.exports.formatDate=(t,e=Date.now(),n="en-us")=>{if("number"===typeof e&&(e=new Date(e)),!(e instanceof Date)||isNaN(e))return"Invalid date";const a=(t,e=2)=>String(t).padStart(e,"0"),o=(t,a)=>e.toLocaleString(n,{[t]:a}),s={HH:a(e.getHours()),mm:a(e.getMinutes()),ss:a(e.getSeconds()),x:e.getTime(),SSS:a(e.getMilliseconds(),4),YYYY:a(e.getFullYear(),4),MMMM:o("month","long"),MMM:o("month","short"),MM:a(e.getMonth()),M:o("month","narrow"),DDDD:o("weekday","long"),DDD:o("weekday","short"),DD:a(e.getDate()),D:o("weekday","narrow")};return t.replace(new RegExp(Object.keys(s).join("|"),"g"),t=>s[t]||"")},t.exports.formatSeconds=(t=0)=>{const e=t%60,n=Math.floor(t/60%60),a=Math.floor(t/3600%3600);let o="";return a&&(o+=String(a).padStart(2,"0")+":"),(n||a)&&(o+=String(n).padStart(2,"0")+":"),(e||n||a)&&(o+=String(e).padStart(2,"0")),o.length<3?`${o||0}s`:o},t.exports.readableByteCount=(t,e=(t=>t))=>{const n=s.binaryPrefix,a=n?1e3:1024,o=t/a;if(o<1)return`${t} B`;for(let s=1;s<=6;s++)if(o<Math.pow(a,s)){const t=Number((o/Math.pow(a,s-1)).toFixed(2)),i=" "+(n?"kMGTPEB":"kMGTPEiB").charAt(s-1)+(n?"":"i")+"B";return e(t)+i}return`${t} B`},t.exports.createUID=()=>{return Math.round(1e15*Math.random()).toString(16)+Date.now().toString(16)},t.exports.throttleEvent=(t,e=1e3)=>{let n=0,a=0;return(...o)=>{clearTimeout(a),Date.now()-n>e?(n=Date.now(),t(...o)):a=setTimeout(()=>t(...o),e)}},t.exports.pick=(t,e)=>{const n={};for(let a=0,o=e.length;a<o;a++){const o=e[a];n[o]=t[o]}return n},t.exports.mkdirIfNotPresent=t=>{return i.existsSync(t)||i.mkdirSync(t,{recursive:!0}),t},t.exports.resolveYouTubeUrl=t=>{t=t.trim();const e=t.length,n=(t,e,n=0)=>{const a=t.match(e);return a&&a[n]?a[n]:null},a=t.match(/^[\w-]+$/),o=a&&e>30?t:n(t,/.*list=(.*?)(&|$)/,1),s=a&&e<=11?t:n(t,/(watch\?v=|youtu\.be\/)(.*?)(&|$)/,2),i=a&&e>20&&e<30?t:n(t,/(channel|user)\/(.*?)(\/|&|$)/,2);return{url:t,isValid:!!(o||s||i),channelId:i,playlistId:o,videoId:s}},t.exports.maskFilename=t=>{return t.replace(/[\/\\?%*:|"<>]/g," ").replace(/ +/g," ")}},"9aea":function(t,e,n){"use strict";var a=n("bc22"),o=n.n(a);o.a},"9b0f":function(t,e){t.exports=require("fs")},a3f7:function(t,e,n){"use strict";var a=n("14da"),o=n.n(a);o.a},a597:function(t,e,n){},a85a:function(t,e,n){"use strict";var a=n("c671"),o=n.n(a);o.a},a8ac:function(t,e,n){},ab96:function(t,e,n){"use strict";var a=n("3f36"),o=n.n(a);o.a},ad27:function(t,e,n){},ad84:function(t,e,n){"use strict";var a=n("db3a"),o=n.n(a);o.a},af74:function(t,e,n){},af8c:function(t,e,n){"use strict";var a=n("07d3"),o=n.n(a);o.a},afbd:function(t,e,n){},baf0:function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("app-title-bar"),n("div",{staticClass:"content"},[n("navigation"),n("keep-alive",[n("router-view",{staticClass:"router"})],1)],1),n("dialog-box")],1)},s=[],i=(n("15f5"),n("f5df"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title-bar"},[n("p",{staticClass:"title"},[t._v("AMXX-BG Youtube Downloader "),n("span",[t._v("- v"+t._s(t.config.version))])]),n("div",{staticClass:"drag"}),n("div",{staticClass:"window-actions"},[n("div",{staticClass:"minimize",on:{click:t.minimize}}),n("div",{staticClass:"min-max",on:{click:t.minMax}}),n("div",{staticClass:"close",on:{click:t.close}})])])}),r=[],l=n("34bb"),c={data(){return{}},methods:{minimize(){l["remote"].getCurrentWindow().minimize()},minMax(){const t=l["remote"].getCurrentWindow();t.isMaximized()?t.unmaximize():t.maximize()},close(){l["remote"].getCurrentWindow().close()}}},u=c,d=(n("ab96"),n("2877")),p=Object(d["a"])(u,i,r,!1,null,"3aaa1657",null),f=p.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"navigation"},[a("img",{attrs:{src:n("6b20"),alt:"Logo"}}),a("div",{staticClass:"divider"}),a("nav-item",{attrs:{title:"Начало",to:"/"}}),a("nav-item",{staticClass:"downloads",attrs:{subs:t.downloadSubs,title:"Изтегления",to:"/downloads"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;return[a("p",{staticClass:"list-item",attrs:{"data-text":n.text}},[a("span",{staticClass:"text"},[t._v(t._s(n.text))]),a("span",{staticClass:"value"},[t._v(t._s(n.value||"/"))])])]}}])}),a("nav-item",{attrs:{title:"Настройки",to:"/settings"}}),a("nav-item",{attrs:{title:"За приложението",to:"/about"}})],1)},h=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"nav-item":1,active:t.$route.path===t.to}},[n("router-link",{staticClass:"topic",attrs:{to:t.to}},[t._v(t._s(t.title))]),t.subs.length&&t.$scopedSlots.default?n("ul",{staticClass:"items"},t._l(t.subs,function(e){return n("li",[t._t("default",null,{item:e})],2)}),0):t._e()],1)},b=[],y={props:{title:{type:String,required:!0},to:{type:String,required:!0},subs:{type:Array,default:()=>[]}},data(){return{}}},w=y,g=(n("94ba"),Object(d["a"])(w,m,b,!1,null,"abfa8ffa",null)),_=g.exports,x=n("2f62");function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){k(t,e,n[e])})}return t}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O={components:{NavItem:_},data(){return{}},computed:C({},Object(x["b"])(["downloads"]),{downloadSubs(){const{downloads:t}=this;return[{text:"Всички",value:t.length},{text:"Активни",value:t.filter(t=>"progress"===t.status).length},{text:"Завършени",value:t.filter(t=>"finish"===t.status).length},{text:"Провалени",value:t.filter(t=>"errored"===t.status).length},{text:"Спрени",value:t.filter(t=>"cancelled"===t.status).length}]}})},D=O,S=(n("1c92"),Object(d["a"])(D,v,h,!1,null,"177d3e7e",null)),$=S.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"dialog-box":1,open:t.dialogbox.open}},[n("div",{staticClass:"content"},[n("div",{staticClass:"header"},[n("i",{class:"fas fa-fw fa-"+t.icon}),n("h1",[t._v(" "+t._s(t.dialogbox.title))])]),t.dialogbox.text?n("p",[t._v(t._s(t.dialogbox.text))]):t._e(),n("div",{staticClass:"actions"},t._l(t.dialogbox.buttons,function(e,a){return n("button",{class:e.type,on:{click:function(e){return t.close(a)}}},[t._v(t._s(e.text)+"\n            ")])}),0)])])},P=[];function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){R(t,e,n[e])})}return t}function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E={data(){return{}},computed:I({},Object(x["b"])(["dialogbox"]),{icon(){switch(this.dialogbox.type){case"info":return"question-circle";case"warn":return"exclamation-circle";case"error":return"times-circle"}}}),methods:{close(t){this.dialogbox.close(t)}}},T=E,M=(n("3fd2"),Object(d["a"])(T,j,P,!1,null,"50662b7a",null)),F=M.exports,q={components:{AppTitleBar:f,Navigation:$,DialogBox:F},data(){return{}}},A=q,B=(n("70f7"),Object(d["a"])(A,o,s,!1,null,"77356678",null)),V=B.exports,Q=n("8c4f"),L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t.loading?n("div",{staticClass:"loading-screen"},[n("h1",[t._v("Извличане на най-новите видеоклипове, изчакайте...")]),n("folding-rectangles")],1):t._e(),t.channelIds.length||t.loading?t._e():n("p",{staticClass:"placeholder"},[t._v("\n        Празно, а? Отидете в\n        "),n("router-link",{attrs:{to:"/settings"}},[t._v("настройки")]),t._v("\n        за да добавите канали\n    ")],1),t.channelIds.length>1&&!t.loading?n("div",{staticClass:"video-snippets"},[n("h1",[t._v("Вие стее абонирани към "+t._s(t.channelIds.length)+" канала")]),t._l(t.channels,function(e){return n("div",{staticClass:"channel"},[n("h1",[t._v(t._s(e.info.title))]),n("div",{staticClass:"videos"},t._l(e.videos,function(t){return n("video-snippet-card",{key:t.csn,attrs:{video:t}})}),1)])})],2):t._e()])},z=[];const N={namespaced:!0,state:[],mutations:{add(t,e){const n=t.find(t=>t.id===e.id);n?Object.assign(n,e):(t.push(e),Y(t)),Y(t)},update(t,{id:e,props:n}){const a=t.find(t=>t.id===e);if(a){const e=n.status&&n.status!==a.status;Object.assign(a,n),e&&Y(t)}a&&Object.assign(a,n)}}};function Y(t){const e=["finish","convert","progress","paused","errored","cancelled"];t.sort((t,n)=>e.indexOf(n.status)-e.indexOf(t.status))}function U(t){return fetch(t).then(t=>{if(t.ok)return t.text();throw t})}function H(t){const e=document.createElement("div");e.innerHTML=t;const n=Array.from(e.querySelectorAll("script")),a=n.map(t=>t.innerHTML).find(t=>t.trim().match(/^window\["ytInitialData"]/));if(a){const t=a.replace(/^[ \t\r\n]+window\["ytInitialData"] *= */,"");return new Function(`return ${t}`)()}return nt.request("log",{level:"ERROR",text:"Failed to extract ytInitialData."}),null}async function G(t){return U(`https://www.youtube.com/channel/${t}/videos`).catch(()=>U(`https://www.youtube.com/user/${t}/videos`)).then(async t=>{const e=H(t),{microformatDataRenderer:n}=e.microformat,{items:a}=e.contents.twoColumnBrowseResultsRenderer.tabs[1].tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].gridRenderer,o=[];for(const s of a){const{gridVideoRenderer:t}=s;o.push(nt.request("getVideoInfo",t.videoId))}return{info:n,videos:await Promise.all(o)}}).catch(e=>{nt.request("log",{level:"ERROR",text:`Failed to fetch latest videos from channel "${t}" / ${e.toString()}.`})})}async function W(t){const e=[];return U(`https://www.youtube.com/playlist?list=${t}`).then(async t=>{const n=H(t),{microformatDataRenderer:a}=n.microformat,o=n.contents.twoColumnBrowseResultsRenderer.tabs[0].tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].playlistVideoListRenderer.contents;return{info:a,videos:await Promise.all(o.map(t=>{const{videoId:n}=t.playlistVideoRenderer;return e.push(n),nt.request("getVideoInfo",n).catch(()=>null)}))}}).then(async({info:n,videos:a})=>{if(a.length<99&&!a.length)return a;a=a.filter(Boolean);let o=a[a.length-1].video_id;while(o){const n=await U(`https://www.youtube.com/watch?v=${o}&list=${t}`);if(!n)throw"Failed to fetch ids";const s=H(n),{contents:i}=s.contents.twoColumnWatchNextResults.playlist.playlist,r=[];for(const t of i){const{playlistPanelVideoRenderer:{videoId:n}}=t;e.find(t=>t===n)||(e.push(n),r.push(nt.request("getVideoInfo",n).catch(()=>null)))}r.length?(a.push(...await Promise.all(r)),a=a.filter(Boolean),o=a[a.length-1].video_id):o=null}return{videos:a,info:n}}).catch(e=>{nt.request("log",{level:"ERROR",text:`Failed to fetch playlist videos from "${t}" / ${e.toString()}.`})})}async function X(t){const e=await U(`https://www.youtube.com/channel/${t}/videos`).catch(()=>U(`https://www.youtube.com/user/${t}/videos`)).then(async t=>{const e=H(t);return e.contents.twoColumnBrowseResultsRenderer.tabs[1].tabRenderer.content.sectionListRenderer.subMenu.channelSubMenuRenderer.playAllButton.buttonRenderer.navigationEndpoint.watchPlaylistEndpoint.playlistId}).catch(e=>{nt.request("log",{level:"ERROR",text:`Failed to fetch channel videos videos from "${t}" / ${e.toString()}.`})});return W(e)}const J={namespaced:!0,state:{},actions:{async latestVideosBy(t,{channelIds:e=[]}){const n=await Promise.all(e.map(G));for(const a of n){const{videos:t}=a;t.sort((t,e)=>e.published-t.published)}return n},async resolvePlaylist(t,{playlistId:e}){return W(e)},async resolveChannelVideos(t,{channelId:e}){return X(e)}}},K={namespaced:!0,state:{open:!1,type:"info",title:null,text:"",buttons:[],close:()=>0},mutations:{show(t,{title:e,type:n="info",text:a="",buttons:o=[],onResolve:s=(()=>0)}){const{commit:i}=this;Object.assign(t,{type:n,title:e,text:a,buttons:o,open:!0,close(t){i("dialogbox/hide"),s(t)}})},hide(t){t.open=!1}}};a["a"].use(x["a"]);var Z=new x["a"].Store({modules:{downloads:N,youtube:J,dialogbox:K},strict:!1,state:{clipBoardText:null},mutations:{updateClipBoardText(t,e){"string"===typeof e&&(t.clipBoardText=e)}},actions:{async fetch(t,{url:e,urlSearchParams:n,init:a,transform:o=null}){let s="";if("object"===typeof n){const t=new URLSearchParams;Object.entries(n).forEach(([e,n])=>void 0!==n&&t.append(e,n)),s=t.toString()}return fetch(s?`${e}?${s}`:e,a).then(t=>{if(!t.ok)throw t;return["json","text"].includes(o)?t[o]():t})}}}),tt=n("9944");const et={};l["ipcRenderer"].on("response",(t,{error:e=!1,id:n,data:a})=>{const o=et[n];o||console.error("[IPC-CLIENT] Cannot resolve request",t,n,a),o[e?"reject":"resolve"](a)}),l["ipcRenderer"].on("add-download",(t,e)=>Z.commit("downloads/add",e)),l["ipcRenderer"].on("update-download",(t,e)=>Z.commit("downloads/update",e));var nt={async request(t,e){const n=tt["createUID"]();return l["ipcRenderer"].send(t,{data:e,id:n}),new Promise((t,e)=>et[n]={resolve:t,reject:e})}},at=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ot=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"folding-rectangles"},[n("div",{staticClass:"box-grid"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])])}],st={data(){return{}}},it=st,rt=(n("168a"),Object(d["a"])(it,at,ot,!1,null,"0182b6e9",null)),lt=rt.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"browser-link",on:{click:function(e){e.preventDefault(),t.href&&t.shell.openExternal(t.href)}}},[t._t("default")],2)},ut=[],dt={props:{href:{type:String,default:null}},data(){return{shell:l["shell"]}}},pt=dt,ft=(n("befd"),Object(d["a"])(pt,ct,ut,!1,null,"43e1e5e0",null)),vt=ft.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-snippet-card",on:{click:t.download}},[n("div",{staticClass:"thumbnail"},[n("img",{attrs:{src:t.video.thumbnail_url,alt:""}}),n("span",[t._v(t._s(t.utils.formatSeconds(Number(t.video.length_seconds))))])]),n("h1",[t._v(t._s(t.video.title))]),n("div",{staticClass:"channel"},[n("p",{staticClass:"name"},[t._v(t._s(t.video.author.name))]),t.video.author.verified?n("i",{staticClass:"fas fa-fw fa-check"}):t._e()])])},mt=[],bt={props:{video:{type:Object,required:!0}},data(){return{}},methods:{download(){this.$router.push(`/downloads?id=${this.video.video_id}`)}}},yt=bt,wt=(n("5d5a"),Object(d["a"])(yt,ht,mt,!1,null,"27ac0d16",null)),gt=wt.exports,_t={components:{FoldingRectangles:lt,BrowserLink:vt,VideoSnippetCard:gt},data(){return{channels:[],channelIds:[],loading:!1}},watch:{async $route(t){if("home"===t.name){const{channelIds:t}=this,{homeVideoChannels:e}=await nt.request("getSettings");e.toString()!==t.toString()&&this.refreshVideoCards()}}},mounted(){this.refreshVideoCards()},methods:{refreshVideoCards(){this.loading=!0,this.channels=[],nt.request("getSettings").then(t=>{const{homeVideoChannels:e}=t;return this.channelIds=[...e],this.$store.dispatch("youtube/latestVideosBy",{channelIds:e})}).then(t=>{this.channels=t}).catch(()=>{this.$store.commit("dialogbox/show",{type:"error",title:"Опа",text:"Не можахме да извлечем видеата, опитайте по-късно.",buttons:[{type:"accept",text:"Добре"}]})}).finally(()=>{this.loading=!1})}}},xt=_t,Ct=(n("af8c"),Object(d["a"])(xt,L,z,!1,null,"1d95bb6a",null)),kt=Ct.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("img",{attrs:{src:n("6b20"),alt:"Logo"}}),a("article",[a("h2",[t._v("За приложението")]),t._v("\n        AMXX-BG Youtube Downloader е приложение създадено от\n        "),a("browser-link",{attrs:{href:"https://amxx-bg.info/memberlist.php?mode=viewprofile&u=4308"}},[t._v("Autumn Shade")]),t._v("\n        и публикувано под\n        "),a("browser-link",{attrs:{href:"https://choosealicense.com/licenses/mit/"}},[t._v("MIT лиценз")]),t._v("\n        в\n        "),a("browser-link",{attrs:{href:"https://github.com/stfkolev/amxxdl"}},[t._v("GitHub")]),t._v("\n        .\n    ")],1),a("article",[t._v("\n        Всеки може да споделя идеи и проблеми ето\n        "),a("browser-link",{attrs:{href:"https://github.com/stfkolev/amxxdl/issues/new"}},[t._v("тук")])],1)])},Dt=[],St={components:{BrowserLink:vt},data(){return{}}},$t=St,jt=(n("a3f7"),Object(d["a"])($t,Ot,Dt,!1,null,"5aa68e52",null)),Pt=jt.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"downloads"},[n("div",{staticClass:"header"},[n("div",{staticClass:"url-input"},[n("i",{staticClass:"fas fa-fw fa-search"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],attrs:{placeholder:"Въведи видео, плейлист чрез id/url",type:"text"},domProps:{value:t.input},on:{input:[function(e){e.target.composing||(t.input=e.target.value)},t.checkDownloadAvailability]}})]),t.videoAndPlaylist&&!t.loading?n("div",{staticClass:"recognition-type"},[n("button",{class:{active:"video"===t.type},on:{click:function(e){return t.chooseType("video")}}},[t._v("Видео")]),n("button",{class:{active:"playlist"===t.type},on:{click:function(e){return t.chooseType("playlist")}}},[t._v("Плейлист")])]):t._e(),t.loading?n("dual-ring-spinner"):t._e(),n("div",{staticClass:"views"},[n("div",{class:{active:"big"===t.viewType},on:{click:function(e){t.viewType="big"}}},[n("svg",{attrs:{viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"}},[n("rect",{attrs:{height:"5",width:"11",y:"6"}}),n("rect",{attrs:{height:"5",width:"11"}})])]),n("div",{class:{active:"mid"===t.viewType},on:{click:function(e){t.viewType="mid"}}},[n("svg",{attrs:{viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"}},[n("rect",{attrs:{height:"3",width:"11",y:"8"}}),n("rect",{attrs:{height:"3",width:"11"}}),n("rect",{attrs:{height:"3",width:"11",y:"4"}})])])])],1),t.video||t.playlist?n("download-card",{attrs:{video:t.video,playlist:t.playlist}}):t._e(),n("download-list",{attrs:{"card-size":t.viewType}})],1)},Rt=[],Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dual-ring-spinner"})},Tt=[],Mt=(n("d7ea"),{}),Ft=Object(d["a"])(Mt,Et,Tt,!1,null,"da626ac2",null),qt=Ft.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"download-list"},[t.downloads.length?[n("div",{staticClass:"header"},[n("p",[t._v("Изтегляния")]),n("div",{class:{actions:1,visible:t.someInProgress||t.somePaused}},[n("button",{staticClass:"action-red",on:{click:t.cancelAll}},[t._v("Прекъсни всички")]),n("button",{staticClass:"action-orange",on:{click:t.pauseOrResumeAll}},[t._v("\n                    "+t._s(t.somePaused?"Resume all":"Pause all")+"\n                ")])])]),n("div",{staticClass:"list"},t._l(t.downloads,function(e){return n("download-item",{key:e.id,attrs:{"card-size":t.cardSize,download:e}})}),1)]:n("p",{staticClass:"placeholder"},[t._v("\n        Няма активни изтегляния в момента.\n    ")])],2)},Bt=[],Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"download-item",attrs:{"data-card-size":t.cardSize}},[n("div",{staticClass:"status-bar",attrs:{"data-status":t.download.status}},["progress"===t.download.status?n("i",{staticClass:"fas fa-fw fa-angle-down"}):"finish"===t.download.status?n("i",{staticClass:"fas fa-fw fa-check"}):"convert"===t.download.status?n("i",{staticClass:"fas fa-fw fa-cog"}):"cancelled"===t.download.status?n("i",{staticClass:"fas fa-fw fa-eject"}):"errored"===t.download.status?n("i",{staticClass:"fas fa-fw fa-times"}):"paused"===t.download.status?n("i",{staticClass:"fas fa-fw fa-pause-circle"}):t._e(),n("div")]),n("img",{staticClass:"thumbnail",attrs:{src:t.download.video.thumbnail_url,alt:"Thumbnail"}}),n("div",{staticClass:"video-info"},[n("h1",[t._v(t._s(t.download.video.title))]),n("p",t._l(t.download.sources,function(e){return n("span",[t._v(t._s(e.bitrate||e.resolution))])}),0)]),n("div",{staticClass:"progress"},[n("div",{staticClass:"info-text"},["progress"===t.download.status?n("span",[n("b",[t._v(t._s(t.utils.readableByteCount(t.download.progress)))]),t._v("\n                /\n                "),n("b",[t._v(t._s(t.utils.readableByteCount(t.download.size))+" ("+t._s(t.percentualProgress)+") - ")])]):t._e(),n("b",[t._v(t._s(t.statusText))]),"finish"===t.download.status?n("b",[t._v(" - Отне "+t._s(t.downloadDuration))]):t._e()]),n("div",{staticClass:"progress-bar",attrs:{"data-status":t.download.status}},["cancelled"!==t.download.status?n("div",{style:{width:t.download.progress/t.download.size*100+"%"}}):t._e()])]),n("div",{staticClass:"actions"},[["progress","paused"].includes(t.download.status)?[n("button",{staticClass:"action-red",on:{click:t.cancelDownload}},[t._v("Прекъсни")]),n("button",{staticClass:"action-orange",on:{click:t.pauseOrResumeDownload}},[t._v(t._s("paused"===t.download.status?"Продължи":"Пауза"))])]:t._e(),"finish"===t.download.status?[n("button",{staticClass:"afterward",on:{click:t.openDestinationDirectory}},[n("i",{staticClass:"fas fa-fw fa-folder-open"})]),n("button",{staticClass:"afterward",on:{click:t.openDestinationFile}},[n("i",{staticClass:"fas fa-fw fa-play-circle"})])]:t._e(),["errored","cancelled"].includes(t.download.status)?[n("button",{staticClass:"action-blue",on:{click:t.retryDownload}},[t._v("Опитай отново")])]:t._e()],2)])},Qt=[],Lt={props:{download:{type:Object,required:!0},cardSize:{default:"big",validator(t){return"string"===typeof t&&["big","mid"].includes(t)}}},data(){return{}},computed:{statusText(){switch(this.download.status){case"progress":return"Изтегляне...";case"finish":return"Завършено!";case"convert":return"Преобразуване...";case"errored":return"Опитайте по-късно.";case"cancelled":return"Изтеглянето прекратено.";case"paused":return"Изтеглянето е на пауза."}},percentualProgress(){const{size:t,progress:e}=this.download;return`${Number((e/t*100).toFixed(1))||0}%`},downloadDuration(){const{startTimestamp:t,endTimestamp:e}=this.download;return`${Math.round((e-t)/1e3)}s`}},methods:{cancelDownload(){nt.request("cancelDownload",{downloadId:this.download.id})},pauseOrResumeDownload(){const{download:t}=this;nt.request("paused"===t.status?"resumeDownload":"pauseDownload",{downloadId:t.id})},retryDownload(){nt.request("retryDownload",{downloadId:this.download.id})},openDestinationDirectory(){l["shell"].showItemInFolder(this.download.destinationFile)},openDestinationFile(){l["shell"].openItem(this.download.destinationFile)}}},zt=Lt,Nt=(n("9490"),Object(d["a"])(zt,Vt,Qt,!1,null,"ae0456b8",null)),Yt=Nt.exports;function Ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){Ht(t,e,n[e])})}return t}function Ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gt={components:{DownloadItem:Yt},props:{cardSize:{type:String,default:"big"}},data(){return{}},computed:Ut({},Object(x["b"])(["downloads"]),{somePaused(){return this.downloads.find(t=>"paused"===t.status)},someInProgress(){return this.downloads.find(t=>"progress"===t.status)}}),methods:{cancelAll(){this.$store.commit("dialogbox/show",{title:"Прекратяване на всички изтегляния",text:"Сигурен ли сте, че искате да прекратите всички изтегляния?",buttons:[{type:"cancel",text:"Да"},{type:"accept",text:"Не"}],onResolve:t=>{if(t)for(const e of this.downloads){const{id:t}=e;nt.request("cancelDownload",{downloadId:t})}}})},pauseOrResumeAll(){const t=this.somePaused?"resumeDownload":"pauseDownload";for(const e of this.downloads){const{id:n}=e;nt.request(t,{downloadId:n})}}}},Wt=Gt,Xt=(n("3683"),Object(d["a"])(Wt,At,Bt,!1,null,"3bd2838e",null)),Jt=Xt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.video||t.playlist?n("div",{staticClass:"download-card"},[t.video?n("video-summary",{attrs:{video:t.video}}):n("playlist-summary",{attrs:{playlist:t.playlist}}),n("div",{staticClass:"divider"}),t.video?n("video-format-selection",{attrs:{video:t.video}}):n("playlist-format-selection",{attrs:{playlist:t.playlist}})],1):t._e()},Zt=[],te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"format-selection"},[n("drop-down-selection",{attrs:{"item-value-filter":t.contentFilter,items:t.availableContent,title:t.content||"избери формат"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),["video","audio/video"].includes(t.content)?n("drop-down-selection",{attrs:{"item-value-filter":t.videoQualityFilter,items:t.availableQualities,title:t.videoQuality||"Избери видео качество"},model:{value:t.videoQuality,callback:function(e){t.videoQuality=e},expression:"videoQuality"}}):t._e(),["audio","audio/video"].includes(t.content)?n("drop-down-selection",{attrs:{"item-value-filter":t.audioQualityFilter,items:t.availableQualities,title:t.audioQuality||"Избери аудио качество"},model:{value:t.audioQuality,callback:function(e){t.audioQuality=e},expression:"audioQuality"}}):t._e(),t.content?n("drop-down-selection",{attrs:{"item-value-filter":t.extensionFilter,items:t.extensions,title:t.format||"Избери формат на файла"},model:{value:t.format,callback:function(e){t.format=e},expression:"format"}}):t._e(),t.content&&t.format?n("button",{on:{click:t.startDownload}},[n("span",[t._v("Изтегляне")])]):t._e()],1)},ee=[],ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"drop-down-selection":1,open:t.open}},[n("button",{ref:"activator"},[n("i",{staticClass:"fas fa-fw fa-angle-down"}),n("span",[t._v(t._s(t.value?t.itemValueFilter?t.itemValueFilter(t.value):t.value:t.title))])]),n("div",{ref:"items",staticClass:"items"},t._l(t.preparedItems,function(e){return n("p",{on:{click:function(n){return t.select(e)}}},[t._v(t._s(e.modified))])}),0)])},ae=[],oe={props:{title:{type:String,required:!0},value:{type:String,default:""},items:{type:Array,required:!0},itemValue:{type:String,default:null},itemValueFilter:{type:Function,default:null}},data(){return{open:!1,replacedTitle:null,outsideClickArguments:null}},computed:{preparedItems(){const{items:t,itemValue:e,itemValueFilter:n}=this,a=[];for(const o of t){const t=e?o[e]:o;if(!t)continue;const s=n?n(t):t;s&&!a.find(({modified:t})=>t===s)&&a.push({modified:s,original:t})}return a}},mounted(){const{items:t,activator:e}=this.$refs;this.outsideClickArguments=this.utils.on(window,"click",({path:n})=>{n.includes(e)?this.open=!this.open:n.includes(t)||(this.open=!1)})},destroyed(){this.utils.off(...this.outsideClickArguments)},methods:{select({modified:t,original:e}){this.$emit("input",e),this.replacedTitle=t,this.open=!1}}},se=oe,ie=(n("27a9"),Object(d["a"])(se,ne,ae,!1,null,"4bca99d8",null)),re=ie.exports,le={components:{DropDownSelection:re},props:{playlist:{type:Object,required:!0}},data(){return{availableContent:["audio","video","audio/video"],availableQualities:["високо","средно","ниско"],content:null,audioQuality:null,videoQuality:null,format:null}},computed:{extensions(){return this.content.includes("video")?["mp4","3gp","ogg","wmv","webm","flv","avi","vob"]:["mp3","oog","aac","wma"]}},watch:{content(){this.format=this.audioQuality=this.videoQuality=null}},methods:{extensionFilter(t){return t.toUpperCase()},videoQualityFilter(t){return`${t} видео качество`},audioQualityFilter(t){return`${t} аудио качество`},contentFilter(t){return{video:"Само видео",audio:"Само аудио","audio/video":"Видео и аудио"}[t]},startDownload(){const{playlist:{videos:t},content:e,format:n,audioQuality:a,videoQuality:o}=this,s={resolution:["72p","144p","144p60","180p","240p","240p60","270p","360p","360p60","480p","480p60","720p","720p60","1080p","1080p60","1440p","1440p60","2160p","2160p60","3072p","4320p"],bitrate:["48kbps","128kbps","256kbps","50kbps","70kbps","160kbps"]},i=(t,e)=>{return t.sort((t,n)=>{t=t&&t[e],n=n&&n[e];const a=t&&s[e].indexOf(t)||-1,o=t&&s[e].indexOf(n)||-1;return a-o}).filter(t=>t&&Boolean(t[e]))},r=(t,e="middle")=>{switch(e){case"low":return t[0];case"middle":return t[Math.round((t.length-1)/2)];case"high":return t[t.length-1];default:console.error(`Unknown position: ${e}`)}};for(const l of t){const{formats:t}=l,s=()=>i(t,"bitrate"),c=()=>i(t,"resolution"),u=(()=>{switch(e){case"audio/video":{const[t,e]=[c(),s()];return t&&e?[r(t,o),r(e,a)]:null}case"audio":{const t=s();return t?[r(t,a)]:null}case"video":{const t=c();return t?[r(t,o)]:null}}})();u?nt.request("startDownload",{sources:u,video:l,format:n,playlist:this.playlist.info}):console.error(`Нищо не е открито за ${l.title}`)}}}},ce=le,ue=(n("7842"),Object(d["a"])(ce,te,ee,!1,null,"979cf29a",null)),de=ue.exports,pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"playlist-summary"},[n("h1",[t._v(t._s(t.playlist.info.title)+" "),n("span",[t._v("/ "+t._s(t.playlist.videos.length)+" Videos")])]),n("div",{staticClass:"snippets"},t._l(t.playlist.videos,function(t){return n("video-snippet-card",{key:t.video_id,attrs:{video:t}})}),1)])},fe=[],ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-snippet-card"},[n("div",{staticClass:"thumbnail"},[n("h2",{staticClass:"author"},[t._v(t._s(t.video.author.name))]),n("img",{attrs:{src:t.video.thumbnail_url,alt:""}})]),n("div",{staticClass:"info"},[n("img",{attrs:{src:t.video.author.avatar,alt:""}}),n("p",{staticClass:"title"},[t._v(t._s(t.video.title))])])])},he=[],me={props:{video:{type:Object,required:!0}},data(){return{}}},be=me,ye=(n("5a38"),Object(d["a"])(be,ve,he,!1,null,"074a3c35",null)),we=ye.exports,ge={components:{VideoSnippetCard:we},props:{playlist:{type:Object,required:!0}},data(){return{}}},_e=ge,xe=(n("9248"),Object(d["a"])(_e,pe,fe,!1,null,"8564c2b2",null)),Ce=xe.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"format-selection"},[n("drop-down-selection",{attrs:{"item-value-filter":t.contentFilter,items:t.video.formats,title:t.content||"избери формат","item-value":"content"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),["video","audio/video"].includes(t.content)?n("drop-down-selection",{attrs:{"item-value-filter":t.qualityFilter,items:t.videoResolutions,title:t.resolution||"избери качество","item-value":"resolution"},model:{value:t.resolution,callback:function(e){t.resolution=e},expression:"resolution"}}):t._e(),["audio","audio/video"].includes(t.content)?n("drop-down-selection",{attrs:{items:t.audioBitrates,title:t.bitrate||"избери битрейт","item-value":"bitrate"},model:{value:t.bitrate,callback:function(e){t.bitrate=e},expression:"bitrate"}}):t._e(),t.content?n("drop-down-selection",{attrs:{"item-value-filter":t.extensionsFilter,items:t.extensions,title:t.format||"Избери файлов формат"},model:{value:t.format,callback:function(e){t.format=e},expression:"format"}}):t._e(),t.sources?n("button",{on:{click:t.startDownload}},[n("span",[t._v("Изтегляне")]),t.sources.clen?n("span",{staticClass:"size"},[t._v("("+t._s(t.utils.readableByteCount(Number(t.sources.clen)))+")")]):t._e()]):t._e()],1)},Oe=[],De={components:{DropDownSelection:re},props:{video:{type:Object,required:!0}},data(){return{content:null,resolution:null,bitrate:null,format:null}},computed:{videoResolutions(){return this.video.formats.filter(t=>t.resolution)},audioBitrates(){return this.video.formats.filter(t=>t.bitrate)},extensions(){return this.content.includes("video")?["mp4","3gp","ogg","wmv","webm","flv","avi","vob"]:["mp3","oog","aac","wma"]},sources(){const{format:t,content:e,resolution:n,bitrate:a,video:o}=this,s=()=>n?o.formats.find(t=>t.resolution===n):null,i=()=>a?o.formats.find(t=>t.bitrate===a):null;if(!t)return null;switch(e){case"audio/video":{const[t,e]=[s(),i()];return t&&e?[t,e]:null}case"audio":{const t=i();return t?[t]:null}case"video":{const t=s();return t?[t]:null}}}},watch:{content(){this.resolution=this.bitrate=this.format=null}},methods:{contentFilter(t){return{video:"Само видео",audio:"Само аудио","audio/video":"Видео и аудио"}[t]},extensionsFilter(t){return t.toUpperCase()},qualityFilter(t){const[e,n]=t.split("p");return`${e}p / ${n||30}fps`},startDownload(){if(this.sources){const{sources:t,video:e,format:n}=this;nt.request("startDownload",{sources:t,video:e,format:n})}else console.error("[ИЗТЕГЛЯНЕ] Пробвахте изтегляне без посочен адрес",this.format,this.resolution,this.bitrate)}}},Se=De,$e=(n("2e30"),Object(d["a"])(Se,ke,Oe,!1,null,"71d10fde",null)),je=$e.exports,Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"video-summary"},[n("div",{staticClass:"thumnail"},[n("img",{attrs:{src:t.video.thumbnail_url}}),n("span",[t._v(t._s(t.utils.formatSeconds(Number(t.video.length_seconds))))])]),n("div",{staticClass:"video-details"},[n("h1",[t._v(t._s(t.video.title))]),n("p",{staticClass:"date"},[t._v("Публикувано на "+t._s(t.utils.formatDate("DD. MMMM YYYY",t.video.published)))]),n("div",{staticClass:"author"},[n("img",{attrs:{src:t.video.author.avatar}}),n("div",{staticClass:"channel"},[n("p",{staticClass:"name"},[t._v(t._s(t.video.author.name))]),t.video.author.verified?n("i",{staticClass:"fas fa-fw fa-check"}):t._e()])])])])},Ie=[],Re={props:{video:{type:Object,required:!0}},data(){return{}}},Ee=Re,Te=(n("a85a"),Object(d["a"])(Ee,Pe,Ie,!1,null,"5a153d83",null)),Me=Te.exports,Fe={components:{PlaylistFormatSelection:de,PlaylistSummary:Ce,VideoFormatSelection:je,VideoSummary:Me},props:{video:{type:Object,default:null},playlist:{type:Object,default:null}},data(){return{}}},qe=Fe,Ae=(n("f2b3"),Object(d["a"])(qe,Kt,Zt,!1,null,"6f8ee9e5",null)),Be=Ae.exports,Ve={components:{DualRingSpinner:qt,DownloadCard:Be,DownloadList:Jt},data(){return{input:"",video:null,playlist:null,loading:!1,videoAndPlaylist:!1,type:null,viewType:"big",clipboardInterval:null}},watch:{$route(t){"downloads"===t.name&&(this.input=t.query.id||"",this.input&&this.checkDownloadAvailability())}},mounted(){let t=null;this.clipboardInterval=setInterval(()=>{const e=l["clipboard"].readText();e!==t&&(this.utils.resolveYouTubeUrl(e).isValid&&this.checkDownloadAvailability(e),t=e)},500)},destroyed(){clearInterval(this.clipboardInterval)},methods:{chooseType(t){this.type!==t&&(this.type=t,this.checkDownloadAvailability())},checkDownloadAvailability(t=null){t="string"===typeof t&&t;const{input:e,type:n}=this;let{playlistId:a,videoId:o,channelId:s,isValid:i}=this.utils.resolveYouTubeUrl(t||e);this.videoAndPlaylist=o&&a,i&&(this.videoAndPlaylist&&("video"===n?a=null:"playlist"===n&&(o=null)),o?(this.loading=!0,this.type=this.type||"video",nt.request("getVideoInfo",o).then(e=>{this.video=e,this.playlist=null,t&&(this.input=t)}).finally(()=>this.loading=!1)):a?(this.loading=!0,this.type=this.type||"playlist",this.$store.dispatch("youtube/resolvePlaylist",{playlistId:a}).then(e=>{this.playlist=e,this.video=null,t&&(this.input=t)}).finally(()=>this.loading=!1)):s&&(this.loading=!0,this.type="channel",this.$store.dispatch("youtube/resolveChannelVideos",{channelId:s}).then(e=>{this.playlist=e,this.video=null,t&&(this.input=t)}).finally(()=>this.loading=!1)))}}},Qe=Ve,Le=(n("5b71"),Object(d["a"])(Qe,It,Rt,!1,null,"2468061d",null)),ze=Le.exports,Ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings"},[n("section",{staticClass:"paths"},[n("h1",[t._v("Пътища")]),n("div",{staticClass:"field"},[n("text-input-field",{attrs:{placeholder:"Път за изтегляне"},model:{value:t.current.downloadDirectory,callback:function(e){t.$set(t.current,"downloadDirectory",e)},expression:"current.downloadDirectory"}}),n("button",{staticClass:"action-green",on:{click:function(e){return t.openFolder(t.current.downloadDirectory)}}},[t._v("Отвори папката")])],1),n("div",{staticClass:"field"},[n("text-input-field",{attrs:{placeholder:"Временен път"},model:{value:t.current.temporaryDirectory,callback:function(e){t.$set(t.current,"temporaryDirectory",e)},expression:"current.temporaryDirectory"}}),n("button",{staticClass:"action-green",on:{click:function(e){return t.openFolder(t.current.temporaryDirectory)}}},[t._v("Отвори папката")])],1),n("button",{class:{visible:t.hasChanged},on:{click:t.applySettings}},[t._v("Запази")])]),n("section",{staticClass:"checkboxes"},[n("h1",[t._v("Основни")]),n("div",{staticClass:"item"},[n("checkbox",{model:{value:t.current.createChannelDirectory,callback:function(e){t.$set(t.current,"createChannelDirectory",e)},expression:"current.createChannelDirectory"}}),n("span",[t._v("Създай директория за всеки канал.")])],1),n("div",{staticClass:"item"},[n("checkbox",{model:{value:t.current.createPlaylistDirectory,callback:function(e){t.$set(t.current,"createPlaylistDirectory",e)},expression:"current.createPlaylistDirectory"}}),n("span",[t._v("Създай директория с името на плейлиста.")])],1),n("button",{class:{visible:t.hasChanged},on:{click:t.applySettings}},[t._v("Запази")])]),n("section",{staticClass:"front-page"},[n("h1",[t._v("Начало")]),n("h3",[t._v("Канали, които да се показват в началната страница")]),n("tag-input-field",{attrs:{placeholder:"Добави id на канал"},model:{value:t.current.homeVideoChannels,callback:function(e){t.$set(t.current,"homeVideoChannels",e)},expression:"current.homeVideoChannels"}}),n("button",{class:{visible:t.hasChanged},on:{click:t.applySettings}},[t._v("Запази")])],1)])},Ye=[],Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{checkbox:1,checked:t.value},on:{click:function(e){return t.$emit("input",!t.value)}}},[n("svg",{attrs:{viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M7,25L17.571,38,44,12"}})])])},He=[],Ge={props:{value:{type:Boolean,required:!0}},data(){return{}}},We=Ge,Xe=(n("54ae"),Object(d["a"])(We,Ue,He,!1,null,"31f76071",null)),Je=Xe.exports,Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-input-field"},[t._l(t.value,function(e){return n("div",{staticClass:"tag"},[n("span",[t._v(t._s(e))]),n("div",{on:{click:function(n){return t.removeTag(e)}}})])}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTag,expression:"newTag"}],attrs:{placeholder:t.placeholder,type:"text"},domProps:{value:t.newTag},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTag(e)},input:function(e){e.target.composing||(t.newTag=e.target.value)}}})],2)},Ze=[],tn={props:{placeholder:{type:String,default:"Add tag..."},value:{type:Array,default:()=>[]}},data(){return{newTag:""}},methods:{addTag(){const{newTag:t,value:e}=this;t.length&&!e.includes(t)&&(this.$emit("input",e.concat([t])),this.newTag="")},removeTag(t){const{value:e}=this,n=this.value.indexOf(t);if(~n){const t=[...e];t.splice(n,1),this.$emit("input",t)}}}},en=tn,nn=(n("9aea"),Object(d["a"])(en,Ke,Ze,!1,null,"6db60ce9",null)),an=nn.exports,on=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"text-input-field":1,focused:t.focused}},[n("label",{class:{placeholder:1,moved:t.value||t.focused},attrs:{for:t.labelId}},[t._v(t._s(t.placeholder))]),n("div",{staticClass:"field"},[n("input",{ref:"input",class:{empty:!t.value},attrs:{autofocus:t.autofocus?"autofocus":"",id:t.labelId,type:t.password&&!t.showPwd?"password":"text",spellcheck:"false"},domProps:{value:t.value},on:{blur:function(e){t.focused=!1},focus:function(e){t.focused=!0},input:function(e){return t.$emit("input",e.target.value)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("submit")}}}),t.password?n("i",{class:"show-pwd fas fa-fw fa-"+(t.showPwd?"eye":"eye-slash"),on:{click:function(e){t.showPwd=!t.showPwd}}}):t._e(),n("i",{class:{"clear fas fa-fw fa-times":1,visible:t.value},on:{click:function(e){return t.$emit("input","")}}})]),n("span",{staticClass:"border"})])},sn=[],rn={props:{placeholder:{type:String,required:!0},password:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},value:{type:String,default:null}},data(){return{showPwd:!1,focused:!1,labelId:`label-${(Date.now()+Math.floor(1e15*Math.random())).toString(36)}`}}},ln=rn,cn=(n("e0ec"),Object(d["a"])(ln,on,sn,!1,null,"8d9d2866",null)),un=cn.exports;function dn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){pn(t,e,n[e])})}return t}function pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fn={components:{Checkbox:Je,TagInputField:an,TextInputField:un},data(){return{original:{},current:{createPlaylistDirectory:!1,createChannelDirectory:!1,deleteDownloadEntriesIfDone:!1,downloadDirectory:null,temporaryDirectory:null,lockDownloadSettings:!1,homeVideoChannels:[]}}},computed:{hasChanged(){const{original:t,current:e}=this;for(const[n,a]of Object.entries(t))if(e[n]!==a)return!0;return!1}},mounted(){this.fetchSettings()},methods:{applySettings(){const{current:t}=this;nt.request("applySettings",t).then(this.fetchSettings).catch(()=>{this.$store.commit("dialogbox/show",{type:"error",title:"Whoops",text:"Failed to save settings, be sure to enter a valid path.",buttons:[{type:"accept",text:"Okay"}]})})},fetchSettings(){nt.request("getSettings").then(t=>{this.original=dn({},t),this.current=dn({},t)})},openFolder(t){l["shell"].openItem(t)}}},vn=fn,hn=(n("ad84"),Object(d["a"])(vn,Ne,Ye,!1,null,"f458dfc8",null)),mn=hn.exports;a["a"].use(Q["a"]);var bn=new Q["a"]({routes:[{path:"/",name:"home",component:kt},{path:"/downloads",name:"downloads",component:ze},{path:"/settings",name:"settings",component:mn},{path:"/about",name:"about",component:Pt},{path:"*",redirect:"/"}]}),yn=(n("d2c6"),n("be6f"));a["a"].config.productionTip=!1,a["a"].prototype.utils=tt,a["a"].prototype.config=yn,new a["a"]({render:t=>t(V),router:bn,store:Z}).$mount("#app")},bc22:function(t,e,n){},be6f:function(t){t.exports={version:"0.0.1",binaryPrefix:!0,channelPreloadAmount:10,contributors:[{name:"Stf Kolev",github:"https://github.com/stfkolev"}]}},befd:function(t,e,n){"use strict";var a=n("97d1"),o=n.n(a);o.a},c671:function(t,e,n){},d7ea:function(t,e,n){"use strict";var a=n("4bf1"),o=n.n(a);o.a},db3a:function(t,e,n){},dc61:function(t,e,n){},e0ec:function(t,e,n){"use strict";var a=n("e269"),o=n.n(a);o.a},e269:function(t,e,n){},f2b3:function(t,e,n){"use strict";var a=n("ad27"),o=n.n(a);o.a}});
//# sourceMappingURL=index.d47dc3ec.js.map